<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taffi å®¶çš„è²¡å‹™æŒ‡æ®ä¸­å¿ƒ</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: #f7f9fc; color: #333; max-width: 600px; margin: 0 auto; padding: 20px; }
        h1 { text-align: center; color: #2c3e50; font-size: 1.5rem; margin-bottom: 5px; }
        h2 { font-size: 1.1rem; color: #555; margin-top: 25px; border-bottom: 2px solid #ddd; padding-bottom: 5px; }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 20px; }
        
        /* è¼¸å…¥æ¡†æ¨£å¼ */
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; font-size: 0.9rem; }
        input[type="number"] { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; box-sizing: border-box; }
        
        /* å‹¾é¸æ¸…å–®æ¨£å¼ */
        .checklist-item { display: flex; align-items: center; padding: 10px 0; border-bottom: 1px dashed #eee; }
        .checklist-item:last-child { border-bottom: none; }
        .checklist-item input { margin-right: 15px; transform: scale(1.3); }
        .checklist-text { flex-grow: 1; }
        .checklist-amt { color: #888; font-size: 0.9rem; }

        /* æŒ‰éˆ• */
        button { width: 100%; background-color: #4a90e2; color: white; border: none; padding: 15px; border-radius: 8px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 10px; }
        button:hover { background-color: #357abd; }

        /* çµæœå€ */
        #resultArea { display: none; background-color: #e8f5e9; border: 2px solid #c8e6c9; }
        .result-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 1.1rem; }
        .highlight { color: #2e7d32; font-weight: bold; }
        .taffi-highlight { color: #d81b60; font-weight: bold; }
        
        .sub-note { font-size: 0.8rem; color: #666; margin-top: 5px; text-align: center; }
    </style>
</head>
<body>

    <h1>ğŸ’° æœˆåº¦è²¡å‹™æŒ‡æ®ä¸­å¿ƒ</h1>
    <p style="text-align: center; color: #888; font-size: 0.9rem;">æ”¶å…¥åˆ†é… & ç›ˆé¤˜çµç®—ç³»çµ±</p>

    <div class="card">
        <h2>ğŸ“… Step 1ï¼šæœˆåˆåˆ†é… (ç™¼è–ªæ—¥)</h2>
        <div class="input-group">
            <label>æœ¬æœˆæ”¶å…¥ (NT$)</label>
            <input type="number" id="income" value="45000">
        </div>

        <p style="font-size: 0.9rem; color: #666;">è«‹ç¢ºèªä»¥ä¸‹æ¬¾é …å·²è½‰å‡ºæˆ–æ‰£æ¬¾ï¼š</p>
        
        <div class="checklist-item">
            <input type="checkbox" id="check1">
            <div class="checklist-text">ğŸ  æˆ¿è²¸ (çµ¦çˆ¸åª½)</div>
            <div class="checklist-amt">$15,000</div>
        </div>
        <div class="checklist-item">
            <input type="checkbox" id="check2">
            <div class="checklist-text">ğŸ¦ å›ºå®šå„²è“„ (æ—…éŠ/ç·Šæ€¥/Taffi)</div>
            <div class="checklist-amt">$12,000</div>
        </div>
        <div class="checklist-item">
            <input type="checkbox" id="check3">
            <div class="checklist-text">ğŸ›¡ï¸ å¹´åº¦æ”¯å‡ºé å‚™ (ä¿éšª/ä¿é¤Š)</div>
            <div class="checklist-amt">$1,500</div>
        </div>
        <div class="checklist-item">
            <input type="checkbox" id="check4">
            <div class="checklist-text">ğŸ“± å›ºå®šå¸³å–® (æ‰‹æ©Ÿ/Gogoro)</div>
            <div class="checklist-amt">$1,049</div>
        </div>
        <div class="checklist-item">
            <input type="checkbox" id="check5">
            <div class="checklist-text">ğŸ’… å›ºå®šç¾ç”²/å¥èº«/iCloud</div>
            <div class="checklist-amt">$2,250</div>
        </div>
    </div>

    <div class="card">
        <h2>ğŸ“‰ Step 2ï¼šæœˆåº•çµç®— (è¼¸å…¥å¯¦éš›èŠ±è²»)</h2>
        <p style="font-size: 0.9rem; color: #666; margin-bottom: 15px;">æ‰“é–‹ä½ çš„è¨˜å¸³ Appï¼Œå¡«å…¥é€™å››é …çš„ã€Œç¸½æ”¯å‡ºã€ï¼š</p>

        <div class="input-group">
            <label>ğŸ¶ ç‹—ç‹—æ”¯å‡º (é ç®— $2,950)</label>
            <input type="number" id="spentDog" placeholder="å¡«å…¥å¯¦éš›èŠ±è²»">
        </div>
        
        <div class="input-group">
            <label>ğŸ± é¤é£²è²»ç”¨ (é ç®— $8,000)</label>
            <input type="number" id="spentFood" placeholder="å¡«å…¥å¯¦éš›èŠ±è²»">
        </div>

        <div class="input-group">
            <label>ğŸ›ï¸ è³¼ç‰©è²»ç”¨ (é ç®— $1,700)</label>
            <input type="number" id="spentShop" placeholder="å¡«å…¥å¯¦éš›èŠ±è²»">
        </div>

        <div class="input-group">
            <label>ğŸ¬ å…¶ä»–å¨›æ¨‚ (é ç®— $500)</label>
            <input type="number" id="spentEnt" placeholder="å¡«å…¥å¯¦éš›èŠ±è²»">
        </div>

        <button onclick="calculate()">è¨ˆç®—æœ¬æœˆç›ˆé¤˜ ğŸš€</button>
    </div>

    <div id="resultArea" class="card">
        <h2 style="margin-top:0; border:none; text-align:center;">ğŸ‰ çµç®—çµæœ</h2>
        
        <div class="result-row">
            <span>å­˜å…¥ Taffi é å‚™é‡‘ï¼š</span>
            <span id="resTaffi" class="taffi-highlight">$0</span>
        </div>
        <div style="font-size: 0.8rem; color:#888; margin-bottom: 10px; text-align: right;">(ä¾†è‡ªç‹—ç‹—é ç®—å‰©é¤˜)</div>

        <div class="result-row">
            <span>å­˜å…¥ ç·Šæ€¥é å‚™é‡‘ï¼š</span>
            <span id="resEmergency" class="highlight">$0</span>
        </div>
        <div style="font-size: 0.8rem; color:#888; margin-bottom: 10px; text-align: right;">(ä¾†è‡ªé¤é£²/è³¼ç‰©/å¨›æ¨‚å‰©é¤˜)</div>

        <hr>
        <div class="result-row" style="font-size: 1.3rem; margin-top: 10px;">
            <span>ğŸ’° æœ¬æœˆç¸½çµé¤˜ï¼š</span>
            <span id="resTotal">$0</span>
        </div>
        <div class="sub-note">è«‹è¨˜å¾—å°‡ä»¥ä¸Šé‡‘é¡è½‰å¸³ï¼</div>
    </div>

    <script>
        function calculate() {
            // é ç®—è¨­å®š
            const budgetDog = 2950;
            const budgetFood = 8000;
            const budgetShop = 1700;
            const budgetEnt = 500;

            // å–å¾—è¼¸å…¥å€¼ (è‹¥æ²’å¡«å‰‡è¦–ç‚º0)
            let spentDog = Number(document.getElementById('spentDog').value) || 0;
            let spentFood = Number(document.getElementById('spentFood').value) || 0;
            let spentShop = Number(document.getElementById('spentShop').value) || 0;
            let spentEnt = Number(document.getElementById('spentEnt').value) || 0;

            // è¨ˆç®—å‰©é¤˜
            let leftDog = budgetDog - spentDog;
            let leftFood = budgetFood - spentFood;
            let leftShop = budgetShop - spentShop;
            let leftEnt = budgetEnt - spentEnt;

            // é‚è¼¯ï¼šTaffi çš„å‰©é¤˜æ­¸ Taffiï¼Œå…¶ä»–æ­¸ç·Šæ€¥é‡‘
            // è‹¥è¶…æ”¯ (è² æ•¸)ï¼Œå‰‡è¦–ç‚º 0 (æˆ–çœ‹ä½ è¦ä¸è¦å¾å…¶ä»–åœ°æ–¹æ‰£ï¼Œç›®å‰è¨­ç‚ºä¸è½‰å­˜)
            
            let toTaffi = leftDog > 0 ? leftDog : 0;
            let toEmergency = (leftFood + leftShop + leftEnt); 
            
            // è‹¥ç·Šæ€¥é‡‘éƒ¨åˆ†ç®—å‡ºä¾†æ˜¯è² çš„ï¼ˆä»£è¡¨ç”Ÿæ´»è²»é€æ”¯ï¼‰ï¼Œé¡¯ç¤ºè² æ•¸æé†’
            // è‹¥å¸Œæœ›ä¸é¡¯ç¤ºè² æ•¸ï¼Œå¯æ”¹ç‚º: let toEmergency = (leftFood + leftShop + leftEnt) > 0 ? (...) : 0;

            let totalSave = toTaffi + toEmergency;

            // é¡¯ç¤ºçµæœ
            document.getElementById('resTaffi').innerText = "$ " + toTaffi.toLocaleString();
            document.getElementById('resEmergency').innerText = "$ " + toEmergency.toLocaleString();
            document.getElementById('resTotal').innerText = "$ " + totalSave.toLocaleString();

            // é¡¯ç¤ºçµæœå€å¡Š
            document.getElementById('resultArea').style.display = 'block';
            
            // æ²å‹•åˆ°çµæœ
            document.getElementById('resultArea').scrollIntoView({behavior: "smooth"});
        }
    </script>
</body>
</html>
